<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-hashes'; style-src 'self' 'unsafe-inline'; font-src 'self' data:; img-src 'self' data:; connect-src 'self';">
    <title>Ø£Ø°ÙˆÙ† Ø§Ù„ØµØ±Ù - Ù†Ø¸Ø§Ù… Ø£Ø³ÙŠÙ„</title>
    <link rel="stylesheet" href="styles/sales.css">
    <link rel="stylesheet" href="styles/topbar.css">
    <link rel="stylesheet" href="styles/main.css">
</head>
<body>
    <!-- Sticky Top Bar -->
    <div class="top-bar">
        <button class="top-bar-sidebar-toggle" id="topBarSidebarToggle" title="Ø¥Ø®ÙØ§Ø¡/Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ©">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                <line x1="3" y1="6" x2="21" y2="6"></line>
                <line x1="3" y1="12" x2="21" y2="12"></line>
                <line x1="3" y1="18" x2="21" y2="18"></line>
            </svg>
        </button>

        <div class="top-bar-time" id="topBarTime">
            <span style="font-size: 12px;">ğŸ•</span> --:--:--
        </div>

        <div class="top-bar-notifications" id="topBarNotificationsBtn" title="Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª">
            <img src="assets/bell.ico" alt="Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª" />
            <span class="notification-badge" id="notificationBadge" style="display: none;">0</span>

            <!-- Notifications Popup - Directly under button -->
            <div class="notifications-popup" id="notificationsPopup">
                <div class="popup-header">
                    <h3>Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª</h3>
                    <button class="close-popup-btn" id="closeNotificationsBtn">&times;</button>
                </div>
                <div class="popup-content">
                    <div class="notifications-section">
                        <h4>ğŸ“¦ Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø§Ù„Ù…Ù†Ø®ÙØ¶ / Ù†ÙØ¯ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†</h4>
                        <div class="notifications-list" id="lowStockNotifications">
                            <div class="notification-item loading">Ø¬Ø§Ø±Ù Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>
                        </div>
                    </div>
                    <div class="notifications-section">
                        <h4>ğŸ‘¥ Ø¹Ù…Ù„Ø§Ø¡ Ø±ØµÙŠØ¯Ù‡Ù… ÙŠØªØ®Ø·Ù‰ 10,000 Ø¬.Ù…</h4>
                        <div class="notifications-list" id="highBalanceNotifications">
                            <div class="notification-item loading">Ø¬Ø§Ø±Ù Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <a href="calculator.html" class="top-bar-calculator" title="Ø¢Ù„Ø© Ø­Ø§Ø³Ø¨Ø©">
            <img src="assets/calculator-app-icon.ico" alt="Ø¢Ù„Ø© Ø­Ø§Ø³Ø¨Ø©" />
        </a>

        <div class="top-bar-user-greeting" id="topBarUserGreeting" style="display: none;">
            <img src="assets/user_10542498.ico" alt="User" class="user-icon" />
            <span class="greeting-text">Ù…Ø±Ø­Ø¨Ù‹Ø§ØŒ <strong id="topBarUsername">Ù…Ø³ØªØ®Ø¯Ù…</strong></span>
        </div>

        <button class="top-bar-logout" id="topBarLogoutBtn" title="ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬">
            <img src="assets/switch.ico" alt="ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬" />
        </button>
    </div>

    <!-- Sidebar Navigation -->
    <nav class="sidebar">
        <div class="sidebar-header">
            <div class="logo">Ø£Ø³ÙŠÙ„</div>
            <p class="system-name">Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø´Ø±ÙƒØ©</p>
        </div>
        <ul class="sidebar-menu">
            <li><a href="index.html"><span class="icon">ğŸ </span> Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
            <li><a href="products.html"><span class="icon">ğŸ“¦</span> Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</a></li>
            <li><a href="customers.html"><span class="icon">ğŸ‘¥</span> Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ <span class="sidebar-badge" id="inactiveCustomersBadge" style="display: none;">0</span></a></li>
            <li><a href="suppliers.html"><span class="icon">ğŸ¢</span> Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†</a></li>
            <li><a href="sales.html"><span class="icon">ğŸ’°</span> Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª</a></li>
            <li><a href="delivery-notes.html" class="active"><span class="icon">ğŸ“‹</span> Ø£Ø°ÙˆÙ† Ø§Ù„ØµØ±Ù</a></li>
            <li><a href="receipts.html"><span class="icon">ğŸ’µ</span> Ø³Ù†Ø¯Ø§Øª Ø§Ù„Ù‚Ø¨Ø¶</a></li>
            <li><a href="payments.html"><span class="icon">ğŸ’¸</span> Ø³Ù†Ø¯Ø§Øª Ø§Ù„ØµØ±Ù</a></li>
            <li><a href="purchases.html"><span class="icon">ğŸ›’</span> Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª</a></li>
            <li><a href="inventory.html"><span class="icon">ğŸ“</span> Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¬Ø±Ø¯ ÙˆØ§Ù„Ù…Ø±ØªØ¬Ø¹Ø§Øª</a></li>
            <li><a href="assets.html"><span class="icon">ğŸ›ï¸</span> Ø£ØµÙˆÙ„ Ø§Ù„Ø´Ø±ÙƒØ©</a></li>
            <li><a href="reports.html"><span class="icon">ğŸ“Š</span> Ø­Ø³Ø§Ø¨ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­</a></li>
            <li><a href="expenses.html"><span class="icon">ğŸ’¼</span> Ø§Ù„Ù…ØµØ§Ø±ÙŠÙ Ø§Ù„ØªØ´ØºÙŠÙ„ÙŠØ©</a></li>
            <li><a href="backup.html"><span class="icon">ğŸ’¾</span> Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ</a></li>
            <li><a href="action-logs.html"><span class="icon">ğŸ“‹</span> Ø³Ø¬Ù„ Ø§Ù„Ø­Ø±ÙƒØ§Øª</a></li>
            <li><a href="users.html"><span class="icon">ğŸ‘¤</span> Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ÙˆØ§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª</a></li>
            <li><a href="settings.html"><span class="icon">âš™ï¸</span> Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</a></li>
            <li><a href="about.html"><span class="icon">ğŸ§Š</span> Ø¹Ù† Ø§Ù„Ø´Ø±ÙƒØ©</a></li>
            <li><a href="marketing.html"><span class="icon">ğŸ“¢</span> Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„ØªØ³ÙˆÙŠÙ‚ÙŠ</a></li>
            <li class="logout-item">
                <button class="logout-btn" title="ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬">
                    <img src="assets/logout-16.ico" alt="ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬" class="icon">
                    <span>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</span>
                </button>
            </li>
        </ul>
        <div class="sidebar-footer">
            <p class="copyright-text">Â© 2025 Ù†Ø¸Ø§Ù… Ø£Ø³ÙŠÙ„ â€” ØªÙ… Ø§Ù„ØªØ·ÙˆÙŠØ± Ø¨ÙˆØ§Ø³Ø·Ø© Ø§Ù„Ù…Ù‡Ù†Ø¯Ø³ Ù…Ø­Ù…Ø¯ Ù…Ø­Ø³Ù†. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©.</p>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <div class="content-header">
            <h1>Ø£Ø°ÙˆÙ† Ø§Ù„ØµØ±Ù</h1>
        </div>

        <!-- Modern Date Selection and Load Section -->
        <div class="delivery-note-loader-card">
            <div class="loader-card-header">
                <div class="header-icon">ğŸ“¦</div>
                <div class="header-text">
                    <h2>ØªØ­Ù…ÙŠÙ„ Ù…Ù†ØªØ¬Ø§Øª Ù…Ù† ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª</h2>
                    <p>Ø§Ø®ØªØ± ØªØ§Ø±ÙŠØ® Ø§Ù„ÙÙˆØ§ØªÙŠØ± Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹</p>
                </div>
            </div>
            <div class="loader-card-body">
                <div class="date-input-wrapper">
                    <label for="selectedDateForLoad" class="date-label">
                        <span class="label-icon">ğŸ“…</span>
                        <span class="label-text">Ø§Ø®ØªØ± ØªØ§Ø±ÙŠØ® Ø§Ù„ÙÙˆØ§ØªÙŠØ±</span>
                        <span class="required">*</span>
                    </label>
                    <div class="date-input-container">
                        <input type="date" id="selectedDateForLoad" class="modern-date-input">
                        <span class="date-input-icon">ğŸ“†</span>
                    </div>
                </div>
                <button type="button" class="btn-load-products" id="loadProductsBtn">
                    <span class="btn-icon">ğŸ“‹</span>
                    <span class="btn-text">ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</span>
                    <span class="btn-arrow">â†’</span>
                </button>
            </div>
        </div>
    </main>

    <!-- Toast Notification Container -->
    <div id="toastContainer" class="toast-container"></div>

    <script src="scripts/sidebar.js"></script>
    <script src="scripts/permissions.js"></script>
    <script src="scripts/toast.js"></script>
    <script src="scripts/logout.js"></script>

    <!-- Note Modal -->
    <div class="modal" id="noteModal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2 id="modalTitle">Ø¥Ø°Ù† ØµØ±Ù Ø¬Ø¯ÙŠØ¯</h2>
                <button class="modal-close" id="closeModal">&times;</button>
            </div>
            <form id="noteForm" class="invoice-form">
                <input type="hidden" id="noteId" name="noteId">
                <input type="hidden" id="isEdit" name="isEdit" value="false">

                <!-- Basic Info -->
                <div class="form-section">
                    <h3>Ø¨ÙŠØ§Ù†Ø§Øª Ø¥Ø°Ù† Ø§Ù„ØµØ±Ù</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="noteDate">Ø§Ù„ØªØ§Ø±ÙŠØ® <span class="required">*</span></label>
                            <input type="date" id="noteDate" name="noteDate" required>
                        </div>
                        <div class="form-group">
                            <label for="warehouseKeeperName">Ø§Ø³Ù… Ø£Ù…ÙŠÙ† Ø§Ù„Ù…Ø®Ø²Ù† / Ø§Ù„ØªÙ„Ø§Ø¬Ø© <span class="required">*</span></label>
                            <input type="text" id="warehouseKeeperName" name="warehouseKeeperName" required placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø£Ù…ÙŠÙ† Ø§Ù„Ù…Ø®Ø²Ù† Ø£Ùˆ Ø§Ù„ØªÙ„Ø§Ø¬Ø©">
                        </div>
                    </div>
                </div>

                <!-- Products Section -->
                <div class="form-section">
                    <h3>Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</h3>
                    <div class="products-actions-container">
                        <button type="button" class="btn-load-from-invoices" id="loadFromInvoicesBtn">
                            <span class="btn-icon-wrapper">
                                <span class="btn-icon">ğŸ“‹</span>
                            </span>
                            <span class="btn-text-content">
                                <span class="btn-main-text">ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù…Ù† ÙÙˆØ§ØªÙŠØ± Ø§Ù„ÙŠÙˆÙ…</span>
                                <span class="btn-sub-text">ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹</span>
                            </span>
                            <span class="btn-arrow-icon">â†’</span>
                        </button>
                        <div class="secondary-actions">
                            <button type="button" class="btn-action-secondary" id="saveNoteAsPDFBtn" title="Ø­ÙØ¸ PDF">
                                <span class="action-icon">ğŸ’¾</span>
                                <span class="action-text">PDF</span>
                            </button>
                            <button type="button" class="btn-action-secondary" id="printNoteBtn" title="Ø·Ø¨Ø§Ø¹Ø©">
                                <span class="action-icon">ğŸ–¨ï¸</span>
                                <span class="action-text">Ø·Ø¨Ø§Ø¹Ø©</span>
                            </button>
                            <button type="submit" class="btn-action-secondary btn-action-save" title="Ø­ÙØ¸">
                                <span class="action-icon">âœ“</span>
                                <span class="action-text">Ø­ÙØ¸</span>
                            </button>
                            <button type="button" class="btn-action-secondary btn-action-cancel" id="cancelBtn" title="Ø¥Ù„ØºØ§Ø¡">
                                <span class="action-icon">âœ•</span>
                                <span class="action-text">Ø¥Ù„ØºØ§Ø¡</span>
                            </button>
                        </div>
                    </div>
                    <div class="products-list">
                        <table class="invoice-products-table">
                            <thead>
                                <tr>
                                    <th>Ø§Ù„Ù…Ù†ØªØ¬ / Ø§Ù„ØµÙ†Ù</th>
                                    <th>Ø§Ù„ÙƒÙ…ÙŠØ©</th>
                                    <th>Ø§Ù„ÙˆØ­Ø¯Ø©</th>
                                </tr>
                            </thead>
                            <tbody id="noteProductsBody">
                                <!-- Products will be added here -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Notes -->
                <div class="form-section">
                    <div class="form-group">
                        <label for="notes">Ù…Ù„Ø§Ø­Ø¸Ø§Øª</label>
                        <textarea id="notes" name="notes" rows="3" placeholder="Ø£ÙŠ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©..."></textarea>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <!-- Toast Notification Container -->
    <div id="toastContainer" class="toast-container"></div>

    <script src="scripts/header.js"></script>
    <script src="scripts/sidebar.js"></script>
    <script src="scripts/logout.js"></script>
    <script src="scripts/user-helper.js"></script>
    <script src="scripts/delivery-notes.js"></script>
    
    <style>
        /* ===================================
           Modern Delivery Note Loader Card
           =================================== */
        
        .delivery-note-loader-card {
            max-width: 700px;
            margin: 30px auto;
            background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
            border-radius: 20px;
            box-shadow: 
                0 4px 20px rgba(0, 0, 0, 0.08),
                0 1px 3px rgba(0, 0, 0, 0.05);
            border: 1px solid rgba(139, 69, 19, 0.1);
            overflow: hidden;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .delivery-note-loader-card:hover {
            box-shadow: 
                0 8px 30px rgba(0, 0, 0, 0.12),
                0 2px 8px rgba(0, 0, 0, 0.08);
            transform: translateY(-2px);
        }
        
        .loader-card-header {
            background: linear-gradient(135deg, #8b4513 0%, #cd853f 100%);
            padding: 24px 28px;
            display: flex;
            align-items: center;
            gap: 16px;
            color: white;
        }
        
        .header-icon {
            font-size: 32px;
            line-height: 1;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));
        }
        
        .header-text {
            flex: 1;
        }
        
        .header-text h2 {
            margin: 0 0 6px 0;
            font-size: 20px;
            font-weight: 700;
            color: white;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
        }
        
        .header-text p {
            margin: 0;
            font-size: 13px;
            color: rgba(255, 255, 255, 0.9);
            font-weight: 400;
        }
        
        .loader-card-body {
            padding: 28px;
            display: flex;
            gap: 20px;
            align-items: flex-end;
            flex-wrap: wrap;
        }
        
        .date-input-wrapper {
            flex: 1;
            min-width: 250px;
        }
        
        .date-label {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 10px;
            font-size: 14px;
            font-weight: 600;
            color: #374151;
        }
        
        .label-icon {
            font-size: 16px;
        }
        
        .label-text {
            flex: 1;
        }
        
        .date-label .required {
            color: #ef4444;
            font-weight: 700;
            margin-right: 2px;
        }
        
        .date-input-container {
            position: relative;
            display: flex;
            align-items: center;
        }
        
        .modern-date-input {
            width: 100%;
            padding: 14px 45px 14px 16px;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            font-size: 15px;
            font-weight: 500;
            color: #1f2937;
            background: white;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-family: 'Segoe UI', Tahoma, Arial, sans-serif;
            cursor: pointer;
        }
        
        .modern-date-input:hover {
            border-color: #cd853f;
            background: #fefefe;
        }
        
        .modern-date-input:focus {
            outline: none;
            border-color: #8b4513;
            box-shadow: 
                0 0 0 4px rgba(139, 69, 19, 0.1),
                0 4px 12px rgba(139, 69, 19, 0.15);
            transform: translateY(-1px);
        }
        
        .date-input-icon {
            position: absolute;
            left: 14px;
            font-size: 18px;
            color: #9ca3af;
            pointer-events: none;
            transition: all 0.3s ease;
        }
        
        .modern-date-input:focus + .date-input-icon {
            color: #8b4513;
            transform: scale(1.1);
        }
        
        .btn-load-products {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 14px 32px;
            background: linear-gradient(135deg, #dc2626 0%, #ef4444 100%);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 
                0 4px 14px rgba(220, 38, 38, 0.3),
                0 2px 4px rgba(220, 38, 38, 0.2);
            white-space: nowrap;
            font-family: 'Segoe UI', Tahoma, Arial, sans-serif;
        }
        
        .btn-load-products:hover {
            background: linear-gradient(135deg, #b91c1c 0%, #dc2626 100%);
            box-shadow: 
                0 6px 20px rgba(220, 38, 38, 0.4),
                0 4px 8px rgba(220, 38, 38, 0.3);
            transform: translateY(-2px);
        }
        
        .btn-load-products:active {
            transform: translateY(0);
            box-shadow: 
                0 2px 8px rgba(220, 38, 38, 0.3),
                0 1px 2px rgba(220, 38, 38, 0.2);
        }
        
        .btn-icon {
            font-size: 18px;
            line-height: 1;
        }
        
        .btn-text {
            font-weight: 700;
        }
        
        .btn-arrow {
            font-size: 18px;
            transition: transform 0.3s ease;
        }
        
        .btn-load-products:hover .btn-arrow {
            transform: translateX(-3px);
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .delivery-note-loader-card {
                margin: 20px 15px;
                border-radius: 16px;
            }
            
            .loader-card-header {
                padding: 20px;
                flex-direction: column;
                text-align: center;
            }
            
            .header-icon {
                font-size: 28px;
            }
            
            .header-text h2 {
                font-size: 18px;
            }
            
            .loader-card-body {
                padding: 20px;
                flex-direction: column;
                align-items: stretch;
            }
            
            .date-input-wrapper {
                min-width: 100%;
            }
            
            .btn-load-products {
                width: 100%;
                justify-content: center;
                padding: 16px 24px;
            }
        }
        
        /* Loading State */
        .btn-load-products.loading {
            opacity: 0.7;
            cursor: not-allowed;
            pointer-events: none;
        }
        
        .btn-load-products.loading .btn-arrow {
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        /* ===================================
           Modern Load Products Button
           =================================== */
        
        .products-actions-container {
            margin-bottom: 20px;
            display: flex;
            gap: 12px;
            align-items: stretch;
            flex-wrap: wrap;
        }

        .btn-load-from-invoices {
            flex: 1;
            min-width: 280px;
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 16px 24px;
            background: linear-gradient(135deg, #8b4513 0%, #cd853f 100%);
            color: white;
            border: none;
            border-radius: 14px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 
                0 4px 16px rgba(139, 69, 19, 0.25),
                0 2px 6px rgba(139, 69, 19, 0.15);
            position: relative;
            overflow: hidden;
            font-family: 'Segoe UI', Tahoma, Arial, sans-serif;
        }

        .btn-load-from-invoices::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }

        .btn-load-from-invoices:hover::before {
            left: 100%;
        }

        .btn-load-from-invoices:hover {
            background: linear-gradient(135deg, #7a3a10 0%, #b87333 100%);
            box-shadow: 
                0 6px 24px rgba(139, 69, 19, 0.35),
                0 4px 10px rgba(139, 69, 19, 0.2);
            transform: translateY(-2px);
        }

        .btn-load-from-invoices:active {
            transform: translateY(0);
            box-shadow: 
                0 3px 12px rgba(139, 69, 19, 0.3),
                0 1px 4px rgba(139, 69, 19, 0.2);
        }

        .btn-load-from-invoices.loading {
            opacity: 0.8;
            cursor: not-allowed;
            pointer-events: none;
        }

        .btn-load-from-invoices.loading .btn-arrow-icon {
            animation: spin 1s linear infinite;
        }

        .btn-icon-wrapper {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.15);
            border-radius: 10px;
            flex-shrink: 0;
            transition: all 0.3s ease;
        }

        .btn-load-from-invoices:hover .btn-icon-wrapper {
            background: rgba(255, 255, 255, 0.25);
            transform: scale(1.1);
        }

        .btn-icon {
            font-size: 22px;
            line-height: 1;
            filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.2));
        }

        .btn-text-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            gap: 2px;
        }

        .btn-main-text {
            font-size: 15px;
            font-weight: 700;
            line-height: 1.3;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
        }

        .btn-sub-text {
            font-size: 12px;
            font-weight: 500;
            opacity: 0.9;
            line-height: 1.2;
        }

        .btn-arrow-icon {
            font-size: 20px;
            transition: transform 0.3s ease;
            flex-shrink: 0;
        }

        .btn-load-from-invoices:hover .btn-arrow-icon {
            transform: translateX(-4px);
        }

        .secondary-actions {
            display: flex;
            gap: 8px;
            flex-shrink: 0;
        }

        .btn-action-secondary {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 4px;
            padding: 12px 16px;
            min-width: 70px;
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-family: 'Segoe UI', Tahoma, Arial, sans-serif;
        }

        .btn-action-secondary#saveNoteAsPDFBtn {
            border-color: #17a2b8;
            color: #17a2b8;
        }

        .btn-action-secondary#saveNoteAsPDFBtn:hover {
            background: #17a2b8;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(23, 162, 184, 0.3);
        }

        .btn-action-secondary#printNoteBtn {
            border-color: #28a745;
            color: #28a745;
        }

        .btn-action-secondary#printNoteBtn:hover {
            background: #28a745;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(40, 167, 69, 0.3);
        }

        .btn-action-secondary.btn-action-save {
            border-color: #8b4513;
            color: #8b4513;
        }

        .btn-action-secondary.btn-action-save:hover {
            background: #8b4513;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(139, 69, 19, 0.3);
        }

        .btn-action-secondary.btn-action-cancel {
            border-color: #6c757d;
            color: #6c757d;
        }

        .btn-action-secondary.btn-action-cancel:hover {
            background: #6c757d;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(108, 117, 125, 0.3);
        }

        .action-icon {
            font-size: 20px;
            line-height: 1;
        }

        .action-text {
            font-size: 12px;
            font-weight: 600;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .products-actions-container {
                flex-direction: column;
            }

            .btn-load-from-invoices {
                min-width: 100%;
                width: 100%;
            }

            .secondary-actions {
                width: 100%;
                justify-content: stretch;
            }

            .btn-action-secondary {
                flex: 1;
                flex-direction: row;
                gap: 8px;
                padding: 14px 16px;
            }
        }
    </style>
</body>
</html>

