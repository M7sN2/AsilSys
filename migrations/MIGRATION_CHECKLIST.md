# Migration Checklist: REAL to INTEGER

## โ ูุงุฆูุฉ ูุญุต ุดุงููุฉ ููุชุฑุญูู

### ุงููุฑุญูุฉ 1: ุงูุชุญุถูุฑ (ูุจู ุงูุชุฑุญูู)

#### 1.1 ุงููุณุฎ ุงูุงุญุชูุงุทู
- [ ] ุฃุฎุฐ ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูุงููุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- [ ] ูุณุฎ ููู `asel-database.db` ุฅูู ููุงู ุขูู
- [ ] ุชุณุฌูู ุชุงุฑูุฎ ูููุช ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ
- [ ] ุงูุชุญูู ูู ุญุฌู ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ

#### 1.2 ุงูุชุญูู ูู ุงูุจูุฆุฉ
- [ ] ุฅุบูุงู ุฌููุน ูุณุฎ ุงูุชุทุจูู
- [ ] ุงูุชุฃูุฏ ูู ุนุฏู ูุฌูุฏ ุนูููุงุช ุฃุฎุฑู ุนูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- [ ] ุงูุชุญูู ูู ูุฌูุฏ ูุณุงุญุฉ ูุงููุฉ ุนูู ุงููุฑุต
- [ ] ุงูุชุญูู ูู ูุฌูุฏ ุฌููุน ูููุงุช ุงูุชุฑุญูู:
  - [ ] `REAL_to_INTEGER_migration.sql`
  - [ ] `REAL_to_INTEGER_rollback.sql`
  - [ ] `REAL_to_INTEGER_test.sql`
  - [ ] `REAL_to_INTEGER_cleanup.sql`
  - [ ] `run-migration.js`

#### 1.3 ุงููุฑุงุฌุนุฉ
- [ ] ูุฑุงุกุฉ `README.md` ุจุงููุงูู
- [ ] ููู ุงูุชุบููุฑุงุช ุงููุทููุจุฉ
- [ ] ูุฑุงุฌุนุฉ ูุงุฆูุฉ ุงูุฌุฏุงูู ุงููุชุฃุซุฑุฉ
- [ ] ููู ุขููุฉ ุงูุชุญููู (ร 100)

### ุงููุฑุญูุฉ 2: ุงูุชูููุฐ

#### 2.1 ุชูููุฐ ุงูุชุฑุญูู
- [ ] ุชุดุบูู `node migrations/run-migration.js --dry-run` (ุงุฎุชุจุงุฑ ุฌุงู)
- [ ] ูุฑุงุฌุนุฉ ุงููุชุงุฆุฌ
- [ ] ุชุดุบูู `node migrations/run-migration.js` (ุงูุชูููุฐ ุงููุนูู)
- [ ] ุงูุชุธุงุฑ ุงูุชูุงู ุงูุชุฑุญูู
- [ ] ุงูุชุญูู ูู ุนุฏู ูุฌูุฏ ุฃุฎุทุงุก

#### 2.2 ุงูุงุฎุชุจุงุฑ
- [ ] ุชุดุบูู `node migrations/run-migration.js --test`
- [ ] ุงูุชุญูู ูู ุฃู ุฌููุน ุงูุงุฎุชุจุงุฑุงุช ุชุนุฑุถ `PASS`
- [ ] ูุฑุงุฌุนุฉ ุนููุงุช ุงูุจูุงูุงุช
- [ ] ุงูุชุญูู ูู ุนุฏุฏ ุงูุณุฌูุงุช (ุนุฏู ููุฏุงู ุจูุงูุงุช)
- [ ] ุงูุชุญูู ูู ุฏูุฉ ุงูุชุญููู
- [ ] ุงูุชุญูู ูู Foreign Keys

#### 2.3 ุงูุชุญูู ุงููุฏูู
- [ ] ูุชุญ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจุงุณุชุฎุฏุงู ุฃุฏุงุฉ SQLite
- [ ] ุงูุชุญูู ูู ููุน ุงูุจูุงูุงุช ูู ุงูุฌุฏุงูู:
  - [ ] `products.smallestPrice` โ INTEGER
  - [ ] `customers.balance` โ INTEGER
  - [ ] `sales_invoices.total` โ INTEGER
  - [ ] ูุบูุฑูุง...
- [ ] ุงูุชุญูู ูู ุจุนุถ ุงูููู ูุฏููุงู:
  - [ ] ุงุฎุชูุงุฑ ุณุฌู ุนุดูุงุฆู
  - [ ] ููุงุฑูุฉ ุงููููุฉ ูู ุงูุฌุฏูู ุงูุฌุฏูุฏ ูุน ุงููููุฉ ูู ุงูุฌุฏูู ุงูุงุญุชูุงุทู
  - [ ] ุงูุชุฃูุฏ ูู ุฃู ุงููููุฉ ุงูุฌุฏูุฏุฉ = ุงููููุฉ ุงููุฏููุฉ ร 100

### ุงููุฑุญูุฉ 3: ุชุญุฏูุซ ุงูููุฏ

#### 3.1 ุฅูุดุงุก ุงูุฏูุงู ุงููุณุงุนุฏุฉ
- [ ] ุฅูุดุงุก ููู `utils/currency.js`
- [ ] ุฅุถุงูุฉ ุฏุงูุฉ `egpToCents()`
- [ ] ุฅุถุงูุฉ ุฏุงูุฉ `centsToEgp()`
- [ ] ุฅุถุงูุฉ ุฏุงูุฉ `formatCurrency()`
- [ ] ุฅุถุงูุฉ ุฏุงูุฉ `formatCurrencyFromCents()`
- [ ] ุงุฎุชุจุงุฑ ุงูุฏูุงู

#### 3.2 ุชุญุฏูุซ ุงููููุงุช ุงูุฃุณุงุณูุฉ
- [ ] ุชุญุฏูุซ `database.js`:
  - [ ] ุชุญุฏูุซ CREATE TABLE statements
  - [ ] ุชุญุฏูุซ ุฌููุน ุงูุนูููุงุช ุนูู ุงููุจุงูุบ ุงููุงููุฉ
- [ ] ุชุญุฏูุซ `scripts/sales.js`:
  - [ ] ุชุญุฏูุซ ูุฑุงุกุฉ/ูุชุงุจุฉ ุงููุจุงูุบ
  - [ ] ุชุญุฏูุซ ุงูุญุณุงุจุงุช
  - [ ] ุชุญุฏูุซ ุงูุนุฑุถ
- [ ] ุชุญุฏูุซ `scripts/purchases.js`
- [ ] ุชุญุฏูุซ `scripts/receipts.js`
- [ ] ุชุญุฏูุซ `scripts/payments.js`
- [ ] ุชุญุฏูุซ `scripts/expenses.js`
- [ ] ุชุญุฏูุซ `scripts/products.js`
- [ ] ุชุญุฏูุซ `scripts/customers.js`
- [ ] ุชุญุฏูุซ `scripts/suppliers.js`
- [ ] ุชุญุฏูุซ `scripts/action-logs.js`

#### 3.3 ุชุญุฏูุซ ุงููุงุฌูุงุช
- [ ] ุชุญุฏูุซ ุฌููุน ุญููู ุงูุฅุฏุฎุงู ูููุจุงูุบ
- [ ] ุชุญุฏูุซ ุฌููุน ุญููู ุงูุนุฑุถ ูููุจุงูุบ
- [ ] ุชุญุฏูุซ ุงูุชูุงุฑูุฑ
- [ ] ุชุญุฏูุซ ุงูุทุจุงุนุฉ

### ุงููุฑุญูุฉ 4: ุงูุงุฎุชุจุงุฑ ุงูุดุงูู

#### 4.1 ุงุฎุชุจุงุฑ ุงููุธุงุฆู ุงูุฃุณุงุณูุฉ
- [ ] ุฅูุดุงุก ููุชุฌ ุฌุฏูุฏ (ูุน ุงูุณุนุฑ)
- [ ] ุชุนุฏูู ููุชุฌ ููุฌูุฏ
- [ ] ุฅูุดุงุก ุนููู ุฌุฏูุฏ (ูุน ุงูุฑุตูุฏ ุงูุงูุชุชุงุญู)
- [ ] ุชุนุฏูู ุนููู ููุฌูุฏ
- [ ] ุฅูุดุงุก ููุฑุฏ ุฌุฏูุฏ (ูุน ุงูุฑุตูุฏ ุงูุงูุชุชุงุญู)
- [ ] ุชุนุฏูู ููุฑุฏ ููุฌูุฏ

#### 4.2 ุงุฎุชุจุงุฑ ุงูููุงุชูุฑ
- [ ] ุฅูุดุงุก ูุงุชูุฑุฉ ูุจูุนุงุช ุฌุฏูุฏุฉ:
  - [ ] ุฅุถุงูุฉ ููุชุฌุงุช
  - [ ] ุญุณุงุจ ุงูุฅุฌูุงูู
  - [ ] ุญุณุงุจ ุงูุถุฑูุจุฉ
  - [ ] ุญุณุงุจ ุงูุฎุตู
  - [ ] ุญุณุงุจ ุงูุดุญู
  - [ ] ุญูุธ ุงููุงุชูุฑุฉ
- [ ] ุชุนุฏูู ูุงุชูุฑุฉ ูุจูุนุงุช ููุฌูุฏุฉ
- [ ] ุญุฐู ูุงุชูุฑุฉ ูุจูุนุงุช
- [ ] ุทุจุงุนุฉ ูุงุชูุฑุฉ ูุจูุนุงุช
- [ ] ุฅูุดุงุก ูุงุชูุฑุฉ ูุดุชุฑูุงุช ุฌุฏูุฏุฉ
- [ ] ุชุนุฏูู ูุงุชูุฑุฉ ูุดุชุฑูุงุช ููุฌูุฏุฉ
- [ ] ุญุฐู ูุงุชูุฑุฉ ูุดุชุฑูุงุช
- [ ] ุทุจุงุนุฉ ูุงุชูุฑุฉ ูุดุชุฑูุงุช

#### 4.3 ุงุฎุชุจุงุฑ ุงูุณูุฏุงุช
- [ ] ุฅูุดุงุก ุณูุฏ ูุจุถ ุฌุฏูุฏ
- [ ] ุชุนุฏูู ุณูุฏ ูุจุถ ููุฌูุฏ
- [ ] ุญุฐู ุณูุฏ ูุจุถ
- [ ] ุฅูุดุงุก ุณูุฏ ุตุฑู ุฌุฏูุฏ
- [ ] ุชุนุฏูู ุณูุฏ ุตุฑู ููุฌูุฏ
- [ ] ุญุฐู ุณูุฏ ุตุฑู

#### 4.4 ุงุฎุชุจุงุฑ ุงููุตุงุฑูู
- [ ] ุฅูุดุงุก ูุตุฑูู ุชุดุบููู ุฌุฏูุฏ
- [ ] ุชุนุฏูู ูุตุฑูู ุชุดุบููู ููุฌูุฏ
- [ ] ุญุฐู ูุตุฑูู ุชุดุบููู
- [ ] ุทุจุงุนุฉ ูุตุฑูู ุชุดุบููู

#### 4.5 ุงุฎุชุจุงุฑ ุงูุชูุงุฑูุฑ
- [ ] ูุดู ุญุณุงุจ ุนููู
- [ ] ูุดู ุญุณุงุจ ููุฑุฏ
- [ ] ุชุชุจุน ุญุฑูุฉ ููุชุฌ
- [ ] ุชูุฑูุฑ ุงููุตุงุฑูู ุงูุชุดุบูููุฉ
- [ ] ุงูุชุญูู ูู ุตุญุฉ ุงููุจุงูุบ ูู ุฌููุน ุงูุชูุงุฑูุฑ

#### 4.6 ุงุฎุชุจุงุฑ ุงูุญุณุงุจุงุช
- [ ] ุญุณุงุจ ุฑุตูุฏ ุนููู:
  - [ ] ุงูุฑุตูุฏ ุงูุงูุชุชุงุญู
  - [ ] ุฅุถุงูุฉ ููุงุชูุฑ
  - [ ] ุฅุถุงูุฉ ุณูุฏุงุช ูุจุถ
  - [ ] ุงูุชุญูู ูู ุงูุฑุตูุฏ ุงูููุงุฆู
- [ ] ุญุณุงุจ ุฑุตูุฏ ููุฑุฏ:
  - [ ] ุงูุฑุตูุฏ ุงูุงูุชุชุงุญู
  - [ ] ุฅุถุงูุฉ ููุงุชูุฑ
  - [ ] ุฅุถุงูุฉ ุณูุฏุงุช ุตุฑู
  - [ ] ุงูุชุญูู ูู ุงูุฑุตูุฏ ุงูููุงุฆู
- [ ] ุญุณุงุจ ุงููุฎุฒูู:
  - [ ] ุฅุถุงูุฉ ูุดุชุฑูุงุช
  - [ ] ุฎุตู ูุจูุนุงุช
  - [ ] ุงูุชุญูู ูู ุงููุฎุฒูู ุงูููุงุฆู

### ุงููุฑุญูุฉ 5: ุงููุฑุงูุจุฉ (ุฃุณุจูุน ูุงุญุฏ)

#### 5.1 ุงูุงุณุชุฎุฏุงู ุงููููู
- [ ] ุงุณุชุฎุฏุงู ุงูุชุทุจูู ุจุดูู ุทุจูุนู ููุฏุฉ ุฃุณุจูุน
- [ ] ุชุณุฌูู ุฃู ูุดุงูู ุฃู ุฃุฎุทุงุก
- [ ] ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช ููููุงู
- [ ] ููุงุฑูุฉ ุงููุชุงุฆุฌ ูุน ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ (ุฅู ุฃููู)

#### 5.2 ุงูุชุญูู ูู ุงูุฃุฏุงุก
- [ ] ูุฑุงูุจุฉ ุณุฑุนุฉ ุงูุงุณุชุนูุงูุงุช
- [ ] ูุฑุงูุจุฉ ุงุณุชุฎุฏุงู ุงูุฐุงูุฑุฉ
- [ ] ูุฑุงูุจุฉ ุญุฌู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- [ ] ุงูุชุญูู ูู ุนุฏู ูุฌูุฏ ุฃุฎุทุงุก ูู ุงูุณุฌูุงุช

#### 5.3 ุงูุชุญูู ูู ุงูุจูุงูุงุช
- [ ] ุงูุชุญูู ูู ุตุญุฉ ุงููุจุงูุบ ูู ุงูููุงุชูุฑ
- [ ] ุงูุชุญูู ูู ุตุญุฉ ุงูุฃุฑุตุฏุฉ
- [ ] ุงูุชุญูู ูู ุตุญุฉ ุงูุชูุงุฑูุฑ
- [ ] ููุงุฑูุฉ ุจุนุถ ุงูููู ูุฏููุงู

### ุงููุฑุญูุฉ 6: ุงูุชูุธูู (ุจุนุฏ ุฃุณุจูุน)

#### 6.1 ุงูุชุญูู ุงูููุงุฆู
- [ ] ุงูุชุฃูุฏ ูู ุนุฏู ูุฌูุฏ ูุดุงูู
- [ ] ุงูุชุฃูุฏ ูู ุตุญุฉ ุฌููุน ุงูุจูุงูุงุช
- [ ] ุงูุชุฃูุฏ ูู ุนูู ุฌููุน ุงููุธุงุฆู
- [ ] ูุฑุงุฌุนุฉ ุงูุณุฌูุงุช (logs)

#### 6.2 ุงูุชูุธูู
- [ ] ุชุดุบูู `node migrations/run-migration.js --cleanup`
- [ ] ุงูุชุญูู ูู ุญุฐู ุงูุฌุฏุงูู ุงูุงุญุชูุงุทูุฉ
- [ ] ุงูุชุญูู ูู ุญุฌู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจุนุฏ ุงูุชูุธูู

#### 6.3 ุงูุชูุซูู
- [ ] ุชุณุฌูู ุชุงุฑูุฎ ุงูุชุฑุญูู
- [ ] ุชุณุฌูู ุฃู ูุดุงูู ูุงุฌูุชูุง
- [ ] ุชุณุฌูู ุงูุญููู ุงููุทุจูุฉ
- [ ] ุชุญุฏูุซ ุงููุซุงุฆู

## ๐ ููุฎุต ุงูุชูุฏู

### ุงููุฑุญูุฉ 1: ุงูุชุญุถูุฑ
- [ ] ููุชูู
- [ ] ููุฏ ุงูุชูููุฐ
- [ ] ูู ูุจุฏุฃ

### ุงููุฑุญูุฉ 2: ุงูุชูููุฐ
- [ ] ููุชูู
- [ ] ููุฏ ุงูุชูููุฐ
- [ ] ูู ูุจุฏุฃ

### ุงููุฑุญูุฉ 3: ุชุญุฏูุซ ุงูููุฏ
- [ ] ููุชูู
- [ ] ููุฏ ุงูุชูููุฐ
- [ ] ูู ูุจุฏุฃ

### ุงููุฑุญูุฉ 4: ุงูุงุฎุชุจุงุฑ ุงูุดุงูู
- [ ] ููุชูู
- [ ] ููุฏ ุงูุชูููุฐ
- [ ] ูู ูุจุฏุฃ

### ุงููุฑุญูุฉ 5: ุงููุฑุงูุจุฉ
- [ ] ููุชูู
- [ ] ููุฏ ุงูุชูููุฐ
- [ ] ูู ูุจุฏุฃ

### ุงููุฑุญูุฉ 6: ุงูุชูุธูู
- [ ] ููุชูู
- [ ] ููุฏ ุงูุชูููุฐ
- [ ] ูู ูุจุฏุฃ

## ๐จ ูู ุญุงูุฉ ุงููุดุงูู

### ุฅุฐุง ูุดู ุงูุชุฑุญูู:
1. **ูุง ุชูู ุจุฃู ุดูุก ุขุฎุฑ**
2. ุฑุงุฌุน ุฑุณุงุฆู ุงูุฎุทุฃ
3. ุงุณุชุฎุฏู `node migrations/run-migration.js --rollback` ููุชุฑุงุฌุน
4. ุฑุงุฌุน `README.md` ู `CODE_CHANGES_REQUIRED.md`
5. ุญุงูู ูุฑุฉ ุฃุฎุฑู ุจุนุฏ ุฅุตูุงุญ ุงููุดููุฉ

### ุฅุฐุง ูุงุฌูุช ุฃุฎุทุงุก ูู ุงูููุฏ:
1. ุฑุงุฌุน `CODE_CHANGES_REQUIRED.md`
2. ุชุญูู ูู ุฃู ุฌููุน ุงููููุงุช ูุญุฏุซุฉ
3. ุชุญูู ูู ุงุณุชุฎุฏุงู ุงูุฏูุงู ุงููุณุงุนุฏุฉ
4. ุฑุงุฌุน ุฃูุซูุฉ ุงูุฃุฎุทุงุก ุงูุดุงุฆุนุฉ

### ุฅุฐุง ูุงูุช ุงูุจูุงูุงุช ุบูุฑ ุตุญูุญุฉ:
1. ุฃููู ุงูุชุทุจูู ููุฑุงู
2. ุงุณุชุฎุฏู `node migrations/run-migration.js --rollback`
3. ุฑุงุฌุน `REAL_to_INTEGER_test.sql` ููุชุญูู ูู ุงููุดููุฉ
4. ุฃุนุฏ ุงูุชุฑุญูู ุจุนุฏ ุฅุตูุงุญ ุงููุดููุฉ

---

**ุชุงุฑูุฎ ุงูุจุฏุก**: _______________

**ุชุงุฑูุฎ ุงูุงูุชูุงุก**: _______________

**ููุงุญุธุงุช**: 
_________________________________________________
_________________________________________________
_________________________________________________

